
# ğŸ¦ Bank Account Management â€“ Backend (Spring Boot)

## ğŸ“Œ Description du projet

Ce projet correspond Ã  la **Partie 1 : Backend** dâ€™une application de gestion bancaire dÃ©veloppÃ©e avec **Spring Boot**.  
Il implÃ©mente une architecture **RESTful** complÃ¨te incluant :

- JPA / Hibernate  
- Spring Data  
- DTOs  
- Services mÃ©tier  
- Gestion des exceptions  
- Tests via API REST  
- Documentation avec Swagger (OpenAPI)




## ğŸ§° Technologies utilisÃ©es

- Java 17+
- Spring Boot
- Spring Data JPA
- Hibernate
- H2 Database
- MySQL
- Spring Web
- Lombok
- SpringDoc OpenAPI (Swagger)
- Maven

---

## ğŸ“‚ Architecture du projet

<img src="images/img_31.png">


---

## 1ï¸âƒ£ CrÃ©ation du projet Spring Boot

Le projet a Ã©tÃ© crÃ©Ã© avec **Spring Initializr** en intÃ©grant les dÃ©pendances nÃ©cessaires pour :
- Web
- JPA
- H2
- MySQL
- Lombok

---

## 2ï¸âƒ£ CrÃ©ation des entitÃ©s JPA

Les entitÃ©s principales sont :
- `Customer`
- `BankAccount` (classe abstraite)
- `SavingAccount`
- `CurrentAccount`
- `AccountOperation`

---

## ğŸ—„ï¸ H2 Console

### AccÃ¨s Ã  la console H2

<img src="images/img.png">

On peut voir que **3 tables** ont Ã©tÃ© gÃ©nÃ©rÃ©es automatiquement :

<img src="images/img_1.png">

Dans la table **BankAccount**, une colonne supplÃ©mentaire `type` est ajoutÃ©e afin de gÃ©rer lâ€™hÃ©ritage :

<img src="images/img_2.png">

---

## 3ï¸âƒ£ CrÃ©ation des interfaces JPA Repository

Les interfaces **Spring Data JPA Repository** permettent lâ€™accÃ¨s aux donnÃ©es sans Ã©crire de requÃªtes SQL.

<img src="images/img_3.png">

---

## 4ï¸âƒ£ Test de la couche DAO

Insertion de donnÃ©es dans la table **Customer** pour tester le fonctionnement :

<img src="images/img_4.png">

Les donnÃ©es sont bien insÃ©rÃ©es dans la base de donnÃ©es.

---

## 5ï¸âƒ£ HÃ©ritage et stratÃ©gies JPA

### ğŸ”¹ SINGLE_TABLE

CrÃ©ation des comptes **CurrentAccount** et **SavingAccount**.  
Les donnÃ©es sont stockÃ©es dans **une seule table** grÃ¢ce Ã  `SINGLE_TABLE` :

<img src="images/img_5.png">

---

## â• Ajout des opÃ©rations bancaires

Ajout des opÃ©rations **dÃ©bit / crÃ©dit** :

<img src="images/img_6.png">

Par dÃ©faut, `operation_type` est stockÃ© sous forme numÃ©rique (`0 / 1`).  
AprÃ¨s ajout de :

```java
@Enumerated(EnumType.STRING)
````

On obtient :

<img src="images/img_7.png">

Les valeurs deviennent lisibles : **DEBIT / CREDIT**.

---

## ğŸ” Changement de stratÃ©gie dâ€™hÃ©ritage

### ğŸ”¹ TABLE_PER_CLASS

SavingAccount :

<img src="images/img_8.png">

CurrentAccount :

<img src="images/img_9.png">

AprÃ¨s avoir dÃ©clarÃ© `BankAccount` comme classe abstraite :

```java
public abstract class BankAccount {}
```

La table `bank_account` disparaÃ®t de la base :

<img src="images/img_10.png">

---

### ğŸ”¹ JOINED

Changement vers la stratÃ©gie `JOINED` :

<img src="images/img_11.png">

<img src="images/img_12.png">

<img src="images/img_13.png">

---

## 6ï¸âƒ£ Passage de H2 vers MySQL

Ajout des dÃ©pendances MySQL
Puis configuration dans `application.properties`.

---

### Tables gÃ©nÃ©rÃ©es dans MySQL

Customer :

<img src="images/img_14.png">

AccountOperation :

<img src="images/img_15.png">

BankAccount :

<img src="images/img_16.png">

Les opÃ©rations **CRUD** fonctionnent correctement :

<img src="images/img_17.png">

---

## 7ï¸âƒ£ DTOs (Data Transfer Objects)

Les **Entities** sont des modÃ¨les complexes, câ€™est pourquoi lâ€™utilisation des **DTOs** est nÃ©cessaire :

<img src="images/img_18.png">

Si un champ nâ€™est pas nÃ©cessaire, il peut Ãªtre supprimÃ© du DTO.
Exemple :

```java
// private String email;
```

RÃ©sultat Ã  lâ€™affichage :

<img src="images/img_19.png">

---

## 8ï¸âƒ£ RestController

Exemple de service REST :

```java
@GetMapping("/customers/{id}")
public CustomerDTO getCustomer(@PathVariable(name = "id") Long customerId)
        throws CustomerNotFoundException {
    return bankAccountService.getCustomer(customerId);
}
```

AccÃ¨s via navigateur :

```
http://localhost:8085/customers/{id}
```

<img src="images/img_20.png">

---

### Gestion des exceptions

Si le client nâ€™existe pas dans la base de donnÃ©es :

<img src="images/img_21.png">

---

## 9ï¸âƒ£ Documentation avec Swagger (OpenAPI)

Ajout de la dÃ©pendance **springdoc-openapi-ui** :

<img src="images/img_22.png">

Interface Swagger gÃ©nÃ©rÃ©e :

<img src="images/img_23.png">

---

## ğŸ” Consulter les clients

### GET â€“ Liste des clients

<img src="images/img_24.png">

---

### DELETE â€“ Supprimer un client

<img src="images/img_25.png">

---

## ğŸ”Ÿ Tester les Web Services RESTful

Tests effectuÃ©s via navigateur / Postman.

<img src="images/img_26.png">

---

## ğŸ“Š Consulter les comptes

AccÃ¨s via :

```
http://localhost:8085/accounts
```

Affichage de la liste des comptes :

<img src="images/img_27.png">

<img src="images/img_28.png">

<img src="images/img_29.png">

<img src="images/img_30.png">

---

## âœ… Conclusion

Ce projet couvre lâ€™ensemble des notions fondamentales du **Backend Spring Boot** :

* JPA & Hibernate
* HÃ©ritage
* DTOs
* REST API
* Gestion des exceptions
* Documentation API
* Migration H2 â†’ MySQL

Il constitue une **base solide** pour une application bancaire complÃ¨te.

---

ğŸ“Œ **Auteur** : *Nadya EL ABBASSI*
ğŸ“ **Module** : Spring Boot / JPA / REST API

